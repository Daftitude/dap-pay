<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>DAPâš¡Pay | Add Funds</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="css/style.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body data-flavor="app">
  <div id="nav-placeholder"></div>

  <main class="page-wrapper">
    <h1 class="hero-title">âž• Add Funds</h1>

    <!-- Secure Toggle -->
    <button id="secureToggle" class="glow-btn" type="button" style="margin-bottom:1.5rem;">ðŸ”’ Secure Mode</button>

    <!-- Balance Display -->
    <div style="text-align:center;margin-bottom:1.2rem;">
      <b>Balance:</b> <span id="liveBalance">$0.00</span>
    </div>

    <!-- Deposit Method Tabs -->
    <div class="mode-buttons" role="group" aria-label="Deposit Method">
      <button class="mode-btn mode-active" data-method="Fiat">Fiat</button>
      <button class="mode-btn" data-method="Crypto">Crypto</button>
      <button class="mode-btn" data-method="Bank">Bank Transfer</button>
      <button class="mode-btn" data-method="Promo">Promo Code</button>
    </div>

    <!-- ==== FIAT SECTION ==== -->
    <section class="form-card deposit-section" id="fiatSection">
      <form id="addFundsForm" autocomplete="off">
        <label for="fiatAmount">Amount (USD) ðŸ’¡</label>

        <div class="quick-fill-row">
          <button class="quick-fill-btn" type="button" data-value="10">$10</button>
          <button class="quick-fill-btn" type="button" data-value="25">$25</button>
          <button class="quick-fill-btn" type="button" data-value="50">$50</button>
        </div>

        <input type="number" id="fiatAmount" class="input-field" min="1" step="0.01" placeholder="e.g. 25.00" />
        <div class="suggestion-text" id="fiatSuggestion"></div>

        <div class="deposit-chart-summary-row">
          <div class="deposit-chart-col">
            <canvas id="fiatFeeChart" width="140" height="140"></canvas>
          </div>

          <div class="deposit-summary-box" id="fiatSummary">
            <div><span>Amount:</span> <span class="sum-amount">$0.00</span></div>
            <div><span>Fee:</span> <span class="sum-fee">$0.00</span></div>
            <div><span>Balance After:</span> <span class="sum-net">$0.00</span></div>
          </div>
        </div>

        <div class="chart-legend">
          <span class="legend-deposit"></span> Deposit
          <span class="legend-fee"></span> Fee
        </div>

        <button id="submitBtn" class="glow-btn" type="submit">Deposit</button>
      </form>
    </section>



    <!-- ==== CRYPTO SECTION ==== -->
    <section class="form-card deposit-section" id="cryptoSection" hidden>
      <form id="cryptoForm" autocomplete="off">
        <label for="cryptoAmount">Amount (USD) ðŸ’¡</label>

        <div class="quick-fill-row">
          <button class="quick-fill-btn" type="button" data-value="10">$10</button>
          <button class="quick-fill-btn" type="button" data-value="25">$25</button>
          <button class="quick-fill-btn" type="button" data-value="50">$50</button>
        </div>

        <input type="number" id="cryptoAmount" class="input-field" min="1" step="0.01" placeholder="e.g. 50.00" />
        <div class="suggestion-text" id="cryptoSuggestion"></div>

        <div class="deposit-chart-summary-row">
          <div class="deposit-chart-col">
            <canvas id="cryptoFeeChart" width="140" height="140"></canvas>
          </div>

          <div class="deposit-summary-box" id="cryptoSummary">
            <div><span>Amount:</span> <span class="sum-amount">$0.00</span></div>
            <div><span>Fee:</span> <span class="sum-fee">$0.00</span></div>
            <div><span>Balance After:</span> <span class="sum-net">$0.00</span></div>
          </div>
        </div>

        <div class="chart-legend">
          <span class="legend-deposit"></span> Deposit
          <span class="legend-fee"></span> Fee
        </div>

        <label for="walletAddr">Wallet Address</label>
        <input type="text" id="walletAddr" class="input-field" placeholder="0x..." />

        <button id="cryptoSubmit" class="glow-btn" type="submit">Deposit</button>
      </form>
    </section>


    <!-- ==== BANK SECTION ==== -->
    <section class="form-card deposit-section" id="bankSection" hidden>
      <form id="bankForm" autocomplete="off">
        <label for="bankAmount">Amount (USD) ðŸ’¡</label>

        <div class="quick-fill-row">
          <button class="quick-fill-btn" type="button" data-value="10">$10</button>
          <button class="quick-fill-btn" type="button" data-value="25">$25</button>
          <button class="quick-fill-btn" type="button" data-value="50">$50</button>
        </div>

        <input type="number" id="bankAmount" class="input-field" min="5" step="0.01" placeholder="e.g. 100.00" />
        <div class="suggestion-text" id="bankSuggestion"></div>

        <div class="deposit-chart-summary-row">
          <div class="deposit-chart-col">
            <canvas id="bankFeeChart" width="140" height="140"></canvas>
          </div>

          <div class="deposit-summary-box" id="bankSummary">
            <div><span>Amount:</span> <span class="sum-amount">$0.00</span></div>
            <div><span>Fee:</span> <span class="sum-fee">$0.00</span></div>
            <div><span>Balance After:</span> <span class="sum-net">$0.00</span></div>
          </div>
        </div>

        <div class="chart-legend">
          <span class="legend-deposit"></span> Deposit
          <span class="legend-fee"></span> Fee
        </div>

        <label for="acctNum">Account Number</label>
        <input type="text" id="acctNum" class="input-field" placeholder="123456789" data-maskable />
        <label for="routingNum">Routing Number</label>
        <input type="text" id="routingNum" class="input-field" placeholder="011000015" data-maskable />

        <button id="bankSubmit" class="glow-btn" type="submit">Deposit</button>
      </form>
    </section>


    <!-- ==== PROMO SECTION ==== -->
    <section class="form-card deposit-section" id="promoSection" hidden>
      <form id="promoForm" autocomplete="off">
        <label for="promoCode">Promo Code</label>

        <div class="promo-code-row">
          <input type="text" id="promoCode" class="input-field" placeholder="Enter your promo code" />
          <button id="promoApply" class="glow-btn" type="submit">Apply</button>
        </div>

        <!-- Optional: Animated feedback -->
        <div id="promoSuggestion" class="suggestion-text"></div>
        <p id="promoFeedback" class="empty-state"></p>
      </form>
    </section>


    <div id="modal-root"></div>
  </main>

  <div id="footer-placeholder"></div>

  <!-- Scripts -->
  <script src="js/particles.min.js" defer></script>
  <script type="module" src="js/main.js" defer></script>
  <script type="module" src="js/add-funds.js" defer></script>
</body>

</html>