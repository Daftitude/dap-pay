<!-- add-funds.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>DAPâš¡Pay | Add Funds</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/style.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body data-flavor="app">
  <div id="nav-placeholder"></div>
  <main class="page-wrapper">
    <h1 class="hero-title">âž• Add Funds</h1>
    <!-- Secure Mode Toggle -->
    <button id="secureToggle" class="glow-btn" type="button" style="margin-bottom:1.5rem;" title="Mask sensitive fields">ðŸ”’ Secure Mode</button>
    <!-- Live Balance -->
    <div style="text-align:center;margin-bottom:1.2rem;">
      <b>Balance:</b> <span id="liveBalance">$0.00</span>
    </div>
    <!-- Deposit Method Tabs -->
    <div class="mode-buttons" role="group" aria-label="Deposit Method">
      <button class="mode-btn mode-active" data-method="Fiat">Fiat</button>
      <button class="mode-btn" data-method="Crypto">Crypto</button>
      <button class="mode-btn" data-method="Bank">Bank Transfer</button>
      <button class="mode-btn" data-method="Promo">Promo Code</button>
    </div>

    <!-- ==== FIAT SECTION ==== -->
    <section id="fiatSection" class="form-card deposit-section">
      <form id="addFundsForm" autocomplete="off">
        <div class="deposit-flex-row">
          <div class="deposit-amount-col">
            <label for="fiatAmount">Amount (USD) <span data-tooltip="Deposit between $1â€“$1,000">ðŸ’¡</span></label>
            <div class="quick-fill-row">
              <input type="number" id="fiatAmount" class="input-field" min="1" step="0.01" placeholder="e.g. 25.00">
              <button class="quick-fill-btn" type="button" data-value="10">$10</button>
              <button class="quick-fill-btn" type="button" data-value="25">$25</button>
              <button class="quick-fill-btn" type="button" data-value="50">$50</button>
            </div>
            <div id="suggestion" class="suggestion-text"></div>
          </div>
          <div class="deposit-chart-col">
            <canvas id="fiatFeeChart" width="160" height="120" aria-label="Deposit Fee Breakdown"></canvas>
            <div class="chart-legend"><span class="legend-deposit"></span>Deposit <span class="legend-fee"></span>Fee</div>
          </div>
        </div>
        <button id="submitBtn" type="submit" class="glow-btn" style="margin-top:1rem;">Deposit</button>
      </form>
    </section>

    <!-- ==== CRYPTO SECTION ==== -->
    <section id="cryptoSection" class="form-card deposit-section" hidden>
      <form id="cryptoForm" autocomplete="off">
        <div class="deposit-flex-row">
          <div class="deposit-amount-col">
            <label for="cryptoAmount">Amount (USD) <span data-tooltip="Deposit between $1â€“$1,000 in crypto">ðŸ’¡</span></label>
            <div class="quick-fill-row">
              <input type="number" id="cryptoAmount" class="input-field" min="1" step="0.01" placeholder="e.g. 50.00">
              <button class="quick-fill-btn" type="button" data-value="10">$10</button>
              <button class="quick-fill-btn" type="button" data-value="25">$25</button>
              <button class="quick-fill-btn" type="button" data-value="50">$50</button>
            </div>
            <div id="cryptoSuggestion" class="suggestion-text"></div>
          </div>
          <div class="deposit-chart-col">
            <canvas id="cryptoFeeChart" width="160" height="120" aria-label="Deposit Fee Breakdown"></canvas>
            <div class="chart-legend"><span class="legend-deposit"></span>Deposit <span class="legend-fee"></span>Fee</div>
          </div>
        </div>
        <label for="walletAddr">Wallet Address</label>
        <input type="text" id="walletAddr" class="input-field" placeholder="0x...">
        <button id="cryptoSubmit" type="submit" class="glow-btn" style="margin-top:1rem;">Deposit</button>
      </form>
    </section>

    <!-- ==== BANK SECTION ==== -->
    <section id="bankSection" class="form-card deposit-section" hidden>
      <form id="bankForm" autocomplete="off">
        <div class="deposit-flex-row">
          <div class="deposit-amount-col">
            <label for="bankAmount">Amount (USD) <span data-tooltip="Deposit min $5 by bank">ðŸ’¡</span></label>
            <div class="quick-fill-row">
              <input type="number" id="bankAmount" class="input-field" min="5" step="0.01" placeholder="e.g. 100.00">
              <button class="quick-fill-btn" type="button" data-value="10">$10</button>
              <button class="quick-fill-btn" type="button" data-value="25">$25</button>
              <button class="quick-fill-btn" type="button" data-value="50">$50</button>
            </div>
            <div id="bankSuggestion" class="suggestion-text"></div>
          </div>
          <div class="deposit-chart-col">
            <canvas id="bankFeeChart" width="160" height="120" aria-label="Deposit Fee Breakdown"></canvas>
            <div class="chart-legend"><span class="legend-deposit"></span>Deposit <span class="legend-fee"></span>Fee</div>
          </div>
        </div>
        <label for="acctNum">Account Number</label>
        <input type="text" id="acctNum" class="input-field" placeholder="123456789" data-maskable>
        <label for="routingNum">Routing Number</label>
        <input type="text" id="routingNum" class="input-field" placeholder="011000015" data-maskable>
        <button id="bankSubmit" type="submit" class="glow-btn" style="margin-top:1rem;">Deposit</button>
      </form>
    </section>

    <!-- ==== PROMO SECTION ==== -->
    <section id="promoSection" class="form-card deposit-section" hidden>
      <form id="promoForm" autocomplete="off">
        <label for="promoCode">Promo Code</label>
        <div style="display:flex;gap:0.5rem;">
          <input type="text" id="promoCode" class="input-field" placeholder="Enter code" style="flex:1;">
          <button id="promoApply" type="submit" class="glow-btn">Apply</button>
        </div>
        <div id="promoSuggestion" class="suggestion-text"></div>
        <p id="promoFeedback" class="empty-state"></p>
      </form>
    </section>
    <!-- Modal overlays for achievements, wheel, etc., are inserted here by JS -->
    <div id="modal-root"></div>
  </main>
  <div id="footer-placeholder"></div>
  <script src="js/particles.min.js" defer></script>
  <script type="module" src="js/main.js" defer></script>
  <script type="module" src="js/add-funds.js" defer></script>
</body>
</html>
